<template name="CallSubmissionsList">
  {{> nav}}
  <div class="container">
    <div class="row">
      <div class="col-sm-6">
        <header>
          <h1>Submissions for "{{call.title}}"</h1>
        </header>
        
        {{#each submissions}}
          <article class="panel panel-default">
            <heading class="panel-heading">
              <h3 class="panel-title">{{name}}</h3>
            </heading>
            <section class="panel-body">
              {{#markdown}}{{body}}{{/markdown}}
            </section>
            <footer class="panel-footer">
              <strong>Email:</strong> {{email}}
            </footer>
          </article>
        {{/each}}
      </div>
    </div>
  </div>
</template>

<template name="CallSubmissionInsertForm">
  <div class="form-flat">
    {{# unless submitted }}
      {{# autoForm collection="Submissions" id="SubmissionInsertForm" type="insert"}}
        {{> afQuickField name="name" }}
        {{> afQuickField name="email" }}
        {{> afQuickField name="body" }}
        {{> afFieldInput name="callId" value=call._id type="hidden"}}
        <button type="submit" class="btn btn-flat">Submit</button>
      {{/autoForm}}
    {{ else }}
      <p class="call__thanks">Thanks!</p>
    {{/unless}}
  </div>
</template>
